<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Doors Testing</title>
    <meta name="description" content="Video - A-Frame" />
    <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-template-component@3.x.x/dist/aframe-template-component.min.js"></script>
    <script src="https://unpkg.com/aframe-layout-component@5.x.x/dist/aframe-layout-component.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.x.x/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-proxy-event-component@2.1.0/dist/aframe-proxy-event-component.min.jss"></script>
    <!-- <script src="https://unpkg.com/aframe-animation-component@5.x.x/dist/aframe-animation-component.min.js"></script> -->
    <!-- <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script> -->

    <script src="../js/play-on-click.js"></script>
    <script src="../js/hide-on-play.js"></script>
    <script src="../js/hotspots.js"></script>

    <script id="link" type="text/html">
      <a-entity
        class="link"
        geometry="primitive: circle; height: 0.2; width: 0.2"
        material="shader: flat; src: ${thumb}"
        sound="on: click; src: #click-sound"
        event-set__mouseenter="scale: 1.2 1.2 1.2"
        event-set__mouseleave="scale: .5 .5 .5"
        event-set__click="_target: #video-sphere; _delay: 300; material.src: ${src}"
      >
      </a-entity>
    </script>
  </head>

  <body>
    <a-scene>
      <a-assets>
        <audio
          id="click-sound"
          src="https://cdn.aframe.io/360-image-gallery-boilerplate/audio/click.ogg"
        ></audio>
        <audio
          id="concat"
          src="../media/audio/Concat of 0120am Dec-Jan.wav"
        ></audio>
        <audio
          id="duet"
          src="../media/audio/duet for car and hills no NORM.wav"
        ></audio>
        <audio
          id="solstice"
          src="../media/audio/Solstice Coyotes 44.wav"
        ></audio>

        <video
          id="entrance"
          preload="auto"
          src="../media/winter/01_Entrance_11-25.mp4"
          width="160"
          height="90"
          autoplay
          muted
          loop
          crossorigin="anonymous"
        ></video>
        <video
          id="funnel"
          preload="auto"
          src="../media/winter/02_Funnel_11-25.mp4"
          width="160"
          height="90"
          autoplay
          muted
          loop
          crossorigin="anonymous"
        ></video>
        <video
          id="heart"
          preload="auto"
          src="../media/winter/03_Heart_11-25.mp4"
          width="160"
          height="90"
          autoplay
          muted
          loop
          crossorigin="anonymous"
        ></video>
        <video
          id="lookout"
          preload="auto"
          src="../media/winter/04_Lookout_11-25.mp4"
          width="160"
          height="90"
          autoplay
          muted
          loop
          crossorigin="anonymous"
        ></video>
        <video
          id="bottoms"
          preload="auto"
          src="../media/winter/05_Bottoms_11-25.mp4"
          width="160"
          height="90"
          autoplay
          muted
          loop
          crossorigin="anonymous"
        ></video>
      </a-assets>

      <a-videosphere
        src="#entrance"
        id="video-sphere"
        radius="500"
        position="0 0 0"
        rotation="0 -90 0"
      >
      </a-videosphere>

      <!-- Camera + Cursor. -->
      <a-camera wasd-controls-enabled="false" look-controls>
        <!-- Use mouse rayOrigin for desktop pointer input (invisible entity). This enables mouse hover/click events on entities instead of the VR reticle. -->
        <a-entity cursor="rayOrigin: mouse; fuse: false"></a-entity>
      </a-camera>
    </a-scene>

    <script>
      // Auto-play entrance video when scene loads
      document.addEventListener("DOMContentLoaded", function () {
        // setTimeout(function () {
        //   var entranceVideo = document.getElementById("entrance");
        //   if (entranceVideo) {
        //     entranceVideo.play().catch(function (error) {
        //       console.log("Autoplay prevented:", error);
        //     });
        //   }
        // }, 500);
      });
    </script>
  </body>
</html>
